# 前端升级文档 (2025-12-11)

本文档记录了 CanvasEduBot 前端项目的重大升级内容，包括 UI 重构、技术栈更新及配置调整。

## 1. 技术栈升级

### 核心依赖
- **React & React DOM**: 升级至 `19.2.1` (原 19.2.0)。
- **Next.js**: 升级至 `^16.0.8` 以修复安全漏洞。
- **Tailwind CSS**: 采用 v4 版本 (`@tailwindcss/postcss`, `tailwindcss` v4)，移除 `autoprefixer`。

### 新增 UI 库
- **Lucide React**: 用于现代化图标展示。
- **Framer Motion**: 用于实现流畅的页面过渡和元素动画。
- **clsx & tailwind-merge**: 用于动态类名合并与冲突解决。
- **date-fns & react-day-picker**: 用于日历和日期处理。

## 2. UI/UX 重构

### 设计系统 (`globals.css`)
- **配色方案**: 引入柔和的米色背景 (`#f4f2ee`) 和深色强调色 (`#1a1a1a`)。
- **排版**: 统一使用大圆角 (`rounded-[2rem]`) 和无边框卡片设计。
- **动画**: 全局启用平滑滚动和组件入场动画。

### 页面更新
1.  **仪表盘 (`/dashboard`)**:
    - 采用响应式 Grid 布局。
    - 新增“今日概览”、“我的课程”（限前4门）、“学习小组”、“个人知识库”等模块。
    - 侧边栏导航 (`Sidebar`) 实现。
2.  **我的课程 (`/dashboard/courses`)**:
    - 展示所有已同步课程。
    - 支持按课程名称或代码搜索。
    - 课程卡片包含学期、代码、S1/S2/S3 标签等详细信息。
3.  **课程详情 (`/dashboard/courses/[id]`)**:
    - 动态路由页面。
    - 预留“智能助教总结”区域（AI 占位符）。
    - 展示作业列表（按截止日期排序）和课程资料区域。
4.  **登录页 (`/`)**:
    - 风格统一化，优化 Token 输入和保存流程。

## 3. 功能与 API 集成

- **API 服务 (`lib/api.ts`)**: 封装 Axios 请求，自动处理 Token 注入和 401 跳转。
- **真实数据接入**: 仪表盘和课程列表页已对接 `/api/courses` 接口。
- **文件同步**: 实现了点击课程卡片触发 `/api/files/sync` 的功能。

## 4. 配置调整

- **开发端口**: 前端开发服务器默认端口调整为 `5173`，避免与后端 `3000` 端口冲突。
  - 命令: `npm run dev` -> `next dev -p 5173`
- **构建修复**: 修正了组件引用的大小写问题 (`Sidebar.tsx` -> `sidebar.tsx`)。

## 5. 后续计划

- [ ] 对接后端作业列表 API。
- [ ] 实现“智能助教总结”的大模型接口对接。
- [ ] 完善“学习小组”和“个人知识库”的具体功能。
